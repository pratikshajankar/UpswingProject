<section class="empdetailstable">
<h1>Employee Details</h1>
<p-table [value]="EmployeeList">
<ng-template pTemplate="header">
<tr>
    <th>SrNo</th>
    <th>Employee Name</th>
    <th>EmailId</th>
    <th>ContactNo</th>
    <th>Address</th>
    <th>City</th>
    <th>State</th>
    <th>Action</th>
</tr>
</ng-template>

<ng-template pTemplate="body" let-emp let-srno="rowIndex">
    <tr>
        <td>{{srno+1}}</td>
        <td>{{emp.ename}}</td>
        <td>{{emp.emailid}}</td>
        <td>{{emp.contactno}}</td>
        <td>{{emp.address}}</td>
        <td>{{emp.city}}</td>
        <td>{{emp.state}}</td>
        <td>
            <button (click)="onEdit(emp)" style="background-color: blue;color: white;padding: 5px;margin: 5px;border: none;">Edit</button>
            <button (click)="onDelete(emp.empid)" style="background-color: red;color: white;padding: 5px;margin: 5px;border: none;">Delete</button>
        </td>
    </tr>
</ng-template>
</p-table>
</section>
<hr>
<div class="main" style="display: flex;">
<div class="empForm" style="height: 500px;width: 700px; padding: 50px;margin-right: 50px; align-items: center;justify-content: center;">
    <form [formGroup]="myForm">
        <label for="">Employee Name:</label><br>
        <input type="text" formControlName="ename" placeholder="Enter Employee Name">
        <div *ngIf="myForm.controls['ename'].invalid && myForm.controls['ename'].touched">
            Please Enter Employee Name.
        </div><br>
        <label for="">Email ID:</label><br>
        <input type="email" formControlName="emailid" placeholder="Enter Email ID">
        <div *ngIf="myForm.controls['emailid'].invalid && myForm.controls['emailid'].touched">
            Please Enter Your EmailId.
        </div><br>
        <label for="">Contact No:</label><br>
        <input type="tel" formControlName="contactno" placeholder="Enter Contact Number">
        <div *ngIf="myForm.controls['contactno'].invalid && myForm.controls['contactno'].touched">
            Please Enter Contact Number.
        </div>
        <div *ngIf="myForm.get('contactno')?.errors?.['maxlength']">
            Contact number cannot exceed 10 digits.
        </div>
        <br>
        <label for="">City:</label><br>
        <input type="text" formControlName="city" placeholder="Enter City">
        <div *ngIf="myForm.controls['city'].invalid && myForm.controls['city'].touched">
            Please Enter Employee City.
        </div><br>
        <label for="">State:</label><br>
        <input type="text" formControlName="state" placeholder="Enter State">
        <div *ngIf="myForm.controls['state'].invalid && myForm.controls['state'].touched">
            Please Enter Employee Name.
        </div><br>
        <label for="">Address:</label><br>
        <textarea formControlName="address" placeholder="Enter Address"></textarea>
        <div *ngIf="myForm.controls['address'].invalid && myForm.controls['address'].touched">
            Please Enter Employee Address.
        </div><br>

        <button *ngIf="myForm.controls['empid'].value=='1'" (click)="onSave()" style="color: white; background-color: green;padding: 5px;margin: 5px;border: none;">Save</button>
        <button *ngIf="myForm.controls['empid'].value!='1'" (click)="onUpdate()" style="color: white; background-color: skyblue;padding: 5px;margin: 5px;border: none;">Update</button>
        <button (click)="onReset()" style="color: white; background-color: red;padding: 5px;margin: 5px;border: none;">Reset</button>
    </form> 
</div>

<div class="Barchart" style="height: 500px; padding: 50px;align-items: center;justify-content: center;">
    <h1>Employee Chart</h1>
    <hr>
    <ngx-charts-bar-vertical 
[results]="chartData"
[scheme]="colorScheme"
[xAxis]="true"
[yAxis]="true"
[legend]="true"
[showDataLabel]="true"
[view]="view">
</ngx-charts-bar-vertical>
</div>

</div>